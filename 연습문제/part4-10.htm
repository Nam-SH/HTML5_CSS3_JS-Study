<!DOCTYPE html>
<html>
<body> 
기준수 N : <input type="text" id="base" /> 
<button  onclick="startWorker()"> N보다 큰 소수 찾기(Start Worker)</button> 
<button  onclick="stopWorker()"> 소수찾기 종료(Stop Worker)</button>
<p> 결과 : <span id="result"></span></p>

<script>
   var w; 
   function startWorker() {
     
     var data = parseInt(document.getElementById('base').value);    
     if (typeof(Worker) !== "undefined") {
         if (typeof(w) == "undefined") {
            this.w = new Worker("workertask.js");                  
         }
         this.w.postMessage(data);   
         this.w.onmessage = function(e) {
            document.getElementById("result").innerHTML = e.data;
         };
    } else {
         document.getElementById("result").innerHTML =
             "이 브라우저는 Web Workers를 지원하지 않습니다..";
    }
  }

  function stopWorker() { 
     this.w.terminate();   
  }
</script>
</body>
</html> 

